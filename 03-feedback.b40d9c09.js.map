{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAQC,SAASC,cAAc,sBAC/BC,EAAUF,SAASC,cAAc,2BACjCE,EAASH,SAASC,cAAc,wBAChCG,EAAO,CACXC,MAAO,GACPC,QAAS,IAGX,GAAIC,aAAaC,QAAQ,uBAAwB,CAC/C,IAAMC,EAAMC,KAAKC,MAAMJ,aAAaC,QAAQ,wBAC5CT,EAAMa,MAAQH,EAAIJ,MAClBH,EAAQU,MAAQH,EAAIH,O,CAGtBP,EAAMc,iBACJ,QACAC,EAAAjB,GAAEkB,UAAS,SAAAC,GACJT,aAAaC,QAAQ,wBACxBD,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUd,IAE7D,IAAIe,EAAaH,EAAEI,OAAOR,MACtBS,EAAcX,KAAKC,MAAMJ,aAAaC,QAAQ,wBAClDa,EAAYhB,MAAQc,EACpBZ,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUG,G,GAC1D,MAGLnB,EAAQW,iBACN,QACAC,EAAAjB,GAAEkB,UAAS,SAAAC,GACJT,aAAaC,QAAQ,wBACxBD,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUd,IAE7D,IAAIkB,EAAeN,EAAEI,OAAOR,MACxBS,EAAcX,KAAKC,MAAMJ,aAAaC,QAAQ,wBAClDa,EAAYf,QAAUgB,EACtBf,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUG,G,GAC1D,MAGLlB,EAAOU,iBAAiB,SAAS,SAAAG,GAC/BA,EAAEO,iBACF,IAAMC,EAAad,KAAKC,MAAMJ,aAAaC,QAAQ,wBAIhC,OAAfgB,GAAuBA,EAAWnB,MAAMoB,MAH5B,wEAIa,KAAvBD,EAAWlB,QACboB,MAAO,4BAEPC,QAAQC,IAAIlB,KAAKC,MAAMJ,aAAaC,QAAQ,yBAC5CD,aAAasB,QACb9B,EAAMa,MAAQ,GACdV,EAAQU,MAAQ,IAGlBc,MAAM,yB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst email = document.querySelector('input[name=\"email\"');\nconst message = document.querySelector('textarea[name=\"message\"');\nconst submit = document.querySelector('button[type=\"submit\"');\nconst json = {\n  email: '',\n  message: '',\n};\n\nif (localStorage.getItem('feedback-form-state')) {\n  const ffs = JSON.parse(localStorage.getItem('feedback-form-state'));\n  email.value = ffs.email;\n  message.value = ffs.message;\n}\n\nemail.addEventListener(\n  'input',\n  _.throttle(e => {\n    if (!localStorage.getItem('feedback-form-state')) {\n      localStorage.setItem('feedback-form-state', JSON.stringify(json));\n    }\n    let inputEmail = e.target.value;\n    let actualValue = JSON.parse(localStorage.getItem('feedback-form-state'));\n    actualValue.email = inputEmail;\n    localStorage.setItem('feedback-form-state', JSON.stringify(actualValue));\n  }, 500)\n);\n\nmessage.addEventListener(\n  'input',\n  _.throttle(e => {\n    if (!localStorage.getItem('feedback-form-state')) {\n      localStorage.setItem('feedback-form-state', JSON.stringify(json));\n    }\n    let inputMessage = e.target.value;\n    let actualValue = JSON.parse(localStorage.getItem('feedback-form-state'));\n    actualValue.message = inputMessage;\n    localStorage.setItem('feedback-form-state', JSON.stringify(actualValue));\n  }, 500)\n);\n\nsubmit.addEventListener('click', e => {\n  e.preventDefault();\n  const checkEmail = JSON.parse(localStorage.getItem('feedback-form-state'));\n  const validRegex =\n    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n  if (checkEmail !== null && checkEmail.email.match(validRegex)) {\n    if (checkEmail.message === '') {\n      alert(`Message can't be empty!`);\n    } else {\n      console.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n      localStorage.clear();\n      email.value = '';\n      message.value = '';\n    }\n  } else {\n    alert('Invalid email address!');\n  }\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$email","document","querySelector","$b00c40859be242c5$var$message","$b00c40859be242c5$var$submit","$b00c40859be242c5$var$json","email","message","localStorage","getItem","$b00c40859be242c5$var$ffs","JSON","parse","value","addEventListener","$parcel$interopDefault","throttle","e","setItem","stringify","inputEmail","target","actualValue","inputMessage","preventDefault","checkEmail","match","alert","console","log","clear"],"version":3,"file":"03-feedback.b40d9c09.js.map"}