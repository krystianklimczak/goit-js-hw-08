{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAQC,SAASC,cAAc,sBAC/BC,EAAUF,SAASC,cAAc,2BACjCE,EAASH,SAASC,cAAc,wBAChCG,EAAO,CACXC,MAAO,GACPC,QAAS,IAGX,GAAIC,aAAaC,QAAQ,uBAAwB,CAC/C,MAAMC,EAAMC,KAAKC,MAAMJ,aAAaC,QAAQ,wBAC5CT,EAAMa,MAAQH,EAAIJ,MAClBH,EAAQU,MAAQH,EAAIH,O,CAMtBP,EAAMc,iBACJ,QACAC,EAAAjB,GAAEkB,UAASC,IACJT,aAAaC,QAAQ,wBACxBD,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUd,IAE7D,IAAIe,EAAaH,EAAEI,OAAOR,MACtBS,EAAcX,KAAKC,MAAMJ,aAAaC,QAAQ,wBAClDa,EAAYhB,MAAQc,EACpBZ,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUG,GAAa,GACvE,MAGLnB,EAAQW,iBACN,QACAC,EAAAjB,GAAEkB,UAASC,IACJT,aAAaC,QAAQ,wBACxBD,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUd,IAE7D,IAAIkB,EAAeN,EAAEI,OAAOR,MACxBS,EAAcX,KAAKC,MAAMJ,aAAaC,QAAQ,wBAClDa,EAAYf,QAAUgB,EACtBf,aAAaU,QAAQ,sBAAuBP,KAAKQ,UAAUG,GAAa,GACvE,MAeLlB,EAAOU,iBAAiB,SAASG,IAC/BA,EAAEO,iBACF,MAAMC,EAAad,KAAKC,MAAMJ,aAAaC,QAAQ,wBAIhC,OAAfgB,GAAuBA,EAAWnB,MAAMoB,MAH5B,yEAITlB,aAAaC,QAAQ,uBAGxBkB,QAAQC,IAAIjB,KAAKC,MAAMJ,aAAaC,QAAQ,yBAF5CkB,QAAQC,IAAIvB,GAIdG,aAAaqB,QACb7B,EAAMa,MAAQ,GACdV,EAAQU,MAAQ,IAEhBiB,MAAM,yBAAyB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst email = document.querySelector('input[name=\"email\"');\nconst message = document.querySelector('textarea[name=\"message\"');\nconst submit = document.querySelector('button[type=\"submit\"');\nconst json = {\n  email: '',\n  message: '',\n};\n\nif (localStorage.getItem('feedback-form-state')) {\n  const ffs = JSON.parse(localStorage.getItem('feedback-form-state'));\n  email.value = ffs.email;\n  message.value = ffs.message;\n}\n// else {\n// localStorage.setItem('feedback-form-state', JSON.stringify(json));\n// }\n\nemail.addEventListener(\n  'input',\n  _.throttle(e => {\n    if (!localStorage.getItem('feedback-form-state')) {\n      localStorage.setItem('feedback-form-state', JSON.stringify(json));\n    }\n    let inputEmail = e.target.value;\n    let actualValue = JSON.parse(localStorage.getItem('feedback-form-state'));\n    actualValue.email = inputEmail;\n    localStorage.setItem('feedback-form-state', JSON.stringify(actualValue));\n  }, 500)\n);\n\nmessage.addEventListener(\n  'input',\n  _.throttle(e => {\n    if (!localStorage.getItem('feedback-form-state')) {\n      localStorage.setItem('feedback-form-state', JSON.stringify(json));\n    }\n    let inputMessage = e.target.value;\n    let actualValue = JSON.parse(localStorage.getItem('feedback-form-state'));\n    actualValue.message = inputMessage;\n    localStorage.setItem('feedback-form-state', JSON.stringify(actualValue));\n  }, 500)\n);\n\n// submit.addEventListener('click', e => {\n//   e.preventDefault();\n//   if (!localStorage.getItem('feedback-form-state')) {\n//     console.log(json);\n//   } else {\n//     console.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n//   }\n//   localStorage.clear();\n//   email.value = '';\n//   message.value = '';\n// });\n\nsubmit.addEventListener('click', e => {\n  e.preventDefault();\n  const checkEmail = JSON.parse(localStorage.getItem('feedback-form-state'));\n  const validRegex =\n    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n  if (checkEmail !== null && checkEmail.email.match(validRegex)) {\n    if (!localStorage.getItem('feedback-form-state')) {\n      console.log(json);\n    } else {\n      console.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n    }\n    localStorage.clear();\n    email.value = '';\n    message.value = '';\n  } else {\n    alert('Invalid email address!');\n  }\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$email","document","querySelector","$945622fd0f572e60$var$message","$945622fd0f572e60$var$submit","$945622fd0f572e60$var$json","email","message","localStorage","getItem","ffs","JSON","parse","value","addEventListener","$parcel$interopDefault","throttle","e","setItem","stringify","inputEmail","target","actualValue","inputMessage","preventDefault","checkEmail","match","console","log","clear","alert"],"version":3,"file":"03-feedback.f47e92a6.js.map"}